import{_ as n,o as s,c as a,e as t}from"./app.89e8a229.js";const p={},o=t(`<h1 id="\u5E94\u7528\u540E\u53F0\u5524\u9192\u540E\u6570\u636E\u7684\u5237\u65B0" tabindex="-1"><a class="header-anchor" href="#\u5E94\u7528\u540E\u53F0\u5524\u9192\u540E\u6570\u636E\u7684\u5237\u65B0" aria-hidden="true">#</a> \u5E94\u7528\u540E\u53F0\u5524\u9192\u540E\u6570\u636E\u7684\u5237\u65B0</h1><ol><li><p>\u5982\u4F55\u5224\u65AD\u7A0B\u5E8F\u662F\u5426\u662F\u5728\u540E\u53F0\u8FD0\u884C\u4E86</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * \u5224\u65AD\u5F53\u524D\u7684\u5E94\u7528\u7A0B\u5E8F\u662F\u5426\u5728\u540E\u53F0\u8FD0\u884C,\u4F7F\u7528\u8BE5\u7A0B\u5E8F\u9700\u8981\u58F0\u660E\u6743\u9650android.permission.GET_TASKS
 * <span class="token keyword">@param</span> <span class="token parameter">context</span> Context
 * <span class="token keyword">@return</span> true\u8868\u793A\u5F53\u524D\u5E94\u7528\u7A0B\u5E8F\u5728\u540E\u53F0\u8FD0\u884C\u3002false\u4E3A\u5728\u524D\u53F0\u8FD0\u884C
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isApplicationBroughtToBackground</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ActivityManager</span> am <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ActivityManager</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span>ACTIVITY_SERVICE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RunningTaskInfo</span><span class="token punctuation">&gt;</span></span> tasks <span class="token operator">=</span> am<span class="token punctuation">.</span><span class="token function">getRunningTasks</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tasks <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>tasks<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ComponentName</span> topActivity <span class="token operator">=</span> tasks<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>topActivity<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>topActivity<span class="token punctuation">.</span><span class="token function">getPackageName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">getPackageName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u5728Activity\u4E2D\u7684onStop\u65B9\u6CD5\u4E2D\u53BB\u5224\u65AD\u5F53\u524D\u7684\u5E94\u7528\u7A0B\u5E8F\u662F\u5426\u5728\u540E\u53F0\u8FD0\u884C\uFF0C\u540C\u65F6\u7528\u4E00\u4E2A\u6210\u5458\u53D8\u91CF\u53BB\u8BB0\u5F55\u8BE5Activity\u662F\u5426\u4E3A\u540E\u53F0\uFF0C \u5728onResume\u65B9\u6CD5\u4E2D\u53BB\u5224\u65AD\u8BB0\u5F55\u7A0B\u5E8F\u540E\u53F0\u7684\u53D8\u91CF\u662F\u5426\u4E3Atrue\uFF0C\u5982\u4E3Atrue\u5C31\u8BF4\u660E\u73B0\u5728\u662F\u7A0B\u5E8F\u4ECE\u540E\u53F0\u5207\u6362\u5230\u524D\u53F0\u4E86\uFF0C\u8FD9\u65F6\u5019\u5C31\u8981\u53BB\u5237\u65B0\u6570\u636E\u4E86</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * \u7528\u4E8E\u8BB0\u5F55\u5F53\u524D\u5E94\u7528\u7A0B\u5E8F\u662F\u5426\u5728\u540E\u53F0\u8FD0\u884C,\u8FD9\u6837\u53EA\u4F5C\u7528\u4E8E\u4E00\u4E2AActivity\uFF0C\u5982\u679C\u60F3\u8BA9\u6240\u6709\u7684
 * Activity\u90FD\u77E5\u9053\u7A0B\u5E8F\u4ECE\u540E\u53F0\u5230\u524D\u53F0\u4E86\uFF0C\u8FD9\u65F6\u5019\u8981\u5F04\u4E00\u4E2A\u57FA\u7C7BBaseActivity\u4E86\uFF0C\u5728
 * BaseActivity\u4E2D\u53BB\u6267\u884C\u8FD9\u4E9B\u4EE3\u7801\uFF0C\u8BA9\u5176\u4ED6\u7684Activity\u90FD\u7EE7\u627F\u8BE5BaseActivity\u3002\u5E76\u4E14\u8981\u5C06
 * isApplicationBroughtToBackground\u53D8\u6210static\u7684\u3002
 * \u7136\u540E\u5728onResume\u65B9\u6CD5\u4E2D\u4E0D\u8981\u6267\u884CisApplicationBroughtToBackground = false;\u8FD9\u6837\u5176\u4ED6
 * Activity\u5728onResume\u65B9\u6CD5\u4E2D\u5224\u65AD\u65F6\u5C31\u77E5\u9053\u5E94\u7528\u662F\u4ECE\u540E\u53F0\u5207\u6362\u5230\u524D\u53F0\u7684\u4E86\uFF0C\u4E0D\u7528\u62C5\u5FC3\u8FD9\u6837\u4F1A\u5BFC
 * \u81F4isApplicationBroughtToBackground\u65E0\u6CD5\u6062\u590D\u4E3Afalse\uFF0C\u56E0\u4E3A\u5728onStop\u65B9\u6CD5\u4E2D\uFF0C\u6211\u4EEC
 * \u5224\u65AD\u4E86\u5982\u679C\u73B0\u5728\u7A0B\u5E8F\u4E0D\u662F\u540E\u53F0\uFF0C\u5C31\u5C06isApplicationBroughtToBackground \u53D8\u4E3Afalse\u4E86
 */</span>
<span class="token keyword">private</span> <span class="token keyword">boolean</span> isApplicationBroughtToBackground<span class="token punctuation">;</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isApplicationBroughtToBackground</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u7A0B\u5E8F\u540E\u53F0\u4E86</span>
        <span class="token class-name">LogUtil</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;\u540E\u53F0\u4E86...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        isApplicationBroughtToBackground <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token class-name">LogUtil</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;\u6728\u6709\u540E\u53F0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        isApplicationBroughtToBackground <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>

<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>isApplicationBroughtToBackground<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u4ECE\u540E\u53F0\u5207\u6362\u5230\u524D\u53F0\u4E86</span>
        <span class="token class-name">LogUtil</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;\u4ECE\u540E\u53F0\u5207\u6362\u5230\u524D\u53F0\u4E86,\u5237\u65B0\u6570\u636E&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">loadFocusInfoData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    isApplicationBroughtToBackground <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><hr><ul><li>\u90AE\u7BB1 \uFF1Acharon.chui@gmail.com</li><li>Good Luck!</li></ul>`,4),e=[o];function c(i,l){return s(),a("div",null,e)}var k=n(p,[["render",c],["__file","\u5E94\u7528\u540E\u53F0\u5524\u9192\u540E\u6570\u636E\u7684\u5237\u65B0.html.vue"]]);export{k as default};
