import{_ as n,o as a,c as s,e as t}from"./app.e2a3b496.js";const e={},p=t(`<h1 id="\u5E94\u7528\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5E94\u7528\u5B89\u88C5" aria-hidden="true">#</a> \u5E94\u7528\u5B89\u88C5</h1><ol><li><p>\u5728\u5E94\u7528\u7A0B\u5E8F\u4E2D\u5B89\u88C5\u7A0B\u5E8F\u9700\u8981\u6743\u9650<br><code> &lt;uses-permission android:name=&quot;android.permission.INSTALL_PACKAGES&quot; /&gt;</code></p></li><li><p>\u793A\u4F8B\u4EE3\u7801<br> \u5B89\u5353\u4E2D\u63D0\u4F9B\u4E86\u5B89\u88C5\u7A0B\u5E8F\u7684\u529F\u80FD\uFF0C\u6211\u4EEC\u53EA\u8981\u542F\u52A8\u5B89\u88C5\u7A0B\u5E8F\u7684Activity\uFF0C\u5E76\u628A\u6211\u4EEC\u7684\u6570\u636E\u4F20\u5165\u5373\u53EF\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u83B7\u53D6\u5230\u8981\u5B89\u88C5\u7684apk\u6587\u4EF6\u7684File\u5BF9\u8C61</span>
<span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token class-name">Environment</span><span class="token punctuation">.</span><span class="token function">getExternalStorageDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;test.apk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u521B\u5EFA\u4E00\u4E2A\u610F\u56FE</span>
<span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u8BBE\u7F6E\u610F\u56FE\u52A8\u4F5C</span>
intent<span class="token punctuation">.</span><span class="token function">setAction</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span>ACTION_VIEW<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//android.intent.action.VIEW</span>
<span class="token comment">//\u8BBE\u7F6E\u610F\u56FE\u6570\u636E\u548C\u7C7B\u578B</span>
intent<span class="token punctuation">.</span><span class="token function">setDataAndType</span><span class="token punctuation">(</span><span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">fromFile</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;application/vnd.android.package-archive&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u542F\u52A8\u5B89\u88C5\u7A0B\u5E8F\u7684Activity</span>
<span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p><strong>Tip:</strong></p><ul><li><code>Uri.fromFile(File file)</code>\u65B9\u6CD5\u80FD\u4ECE\u4E00\u4E2A<code>File</code>\u5BF9\u8C61\u5F97\u5230\u5B83\u7684<code>Uri</code></li><li><code>Intent</code>\u6709<code>setData(Uri uri)</code>\u548C<code>setType(String type)</code>\u65B9\u6CD5\uFF0C\u4F46\u662F\u8FD9\u91CC\u5982\u679C\u6211\u4EEC\u5206\u5F00\u5199\u5C31\u4F1A\u62A5\u9519\uFF0C \u539F\u56E0\u662F<code>setData()</code>\u65B9\u6CD5\u5728\u6267\u884C\u7684\u65F6\u5019\u4F1A\u81EA\u52A8\u6E05\u7A7A\u6240\u6709\u5728\u6B64\u4E4B\u524D\u8C03\u7528\u7684<code>setType</code>\u65B9\u6CD5\u6240\u8BBE\u7F6E\u8FC7\u7684type\uFF0C \u540C\u6837<code>setType</code>\u65B9\u6CD5\u5728\u6267\u884C\u7684\u65F6\u5019\u4E5F\u4F1A\u81EA\u52A8\u6E05\u7A7A\u6240\u6709\u5728\u6B64\u4E4B\u524D\u8C03\u7528<code>setData</code>\u8BBE\u7F6E\u7684<code>Data</code>\uFF0C\u6240\u4EE5\u8FD9\u91CC\u5FC5\u987B\u4F7F\u7528<code>setDataAndType</code>\u65B9\u6CD5\u800C\u4E0D\u80FD\u5206\u5F00\u4F7F\u7528<code>setData</code>\u548C<code>setType</code>.</li><li><code>Android</code>\u4E2D\u63D0\u4F9B\u4E86\u5B89\u88C5\u5E94\u7528\u7A0B\u5E8F\u7684\u529F\u80FD\uFF0C\u5728<code>Android</code>\u7CFB\u7EDF\u6E90\u7801\u4E2D<code>apps/PackageInstaller</code>\u4E2D\u3002\u6211\u4EEC\u627E\u5230\u8FD9\u4E2A<code>PackageInstaller</code>\u7684\u6E05\u5355\u6587\u4EF6\uFF0C \u7136\u540E\u627E\u5230<code>PackageInstallerActivity</code>\u6765\u67E5\u627E\u8BE5<code>Activity</code>\u7684\u610F\u56FE\uFF1A\u5982\u4E0B <code>android_source/packages/apps/PackageInstaller/AndroidManifest.xml</code><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.PackageInstallerActivity<span class="token punctuation">&quot;</span></span>
		<span class="token attr-name"><span class="token namespace">android:</span>configChanges</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orientation|keyboardHidden<span class="token punctuation">&quot;</span></span>
		<span class="token attr-name"><span class="token namespace">android:</span>excludeFromRecents</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.VIEW<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.INSTALL_PACKAGE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.category.DEFAULT<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span> <span class="token attr-name"><span class="token namespace">android:</span>scheme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span> <span class="token attr-name"><span class="token namespace">android:</span>scheme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span> <span class="token attr-name"><span class="token namespace">android:</span>mimeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>application/vnd.android.package-archive<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.INSTALL_PACKAGE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.category.DEFAULT<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span> <span class="token attr-name"><span class="token namespace">android:</span>scheme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span> <span class="token attr-name"><span class="token namespace">android:</span>scheme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activity</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><ul><li>\u90AE\u7BB1 \uFF1Acharon.chui@gmail.com</li><li>Good Luck!</li></ul>`,6),o=[p];function c(l,i){return a(),s("div",null,o)}var k=n(e,[["render",c],["__file","\u5E94\u7528\u5B89\u88C5.html.vue"]]);export{k as default};
