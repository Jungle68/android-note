import{_ as n,o as a,c as s,e as t}from"./app.89e8a229.js";const e={},p=t(`<h1 id="\u8D85\u7EA7\u7BA1\u7406\u5458-devicepolicemanager" tabindex="-1"><a class="header-anchor" href="#\u8D85\u7EA7\u7BA1\u7406\u5458-devicepolicemanager" aria-hidden="true">#</a> \u8D85\u7EA7\u7BA1\u7406\u5458(DevicePoliceManager)</h1><h2 id="devicepolicymanager" tabindex="-1"><a class="header-anchor" href="#devicepolicymanager" aria-hidden="true">#</a> DevicePolicyManager</h2><p>Public interface for managing policies enforced on a device. Most clients of this class must have published a DeviceAdminReceiver that the user has currently enabled.</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">DevicePolicyManager</span> dpm <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DevicePolicyManager</span><span class="token punctuation">)</span> mContext<span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span>DEVICE_POLICY_SERVICE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>dpm<span class="token punctuation">.</span><span class="token function">isAdminActive</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ComponentName</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token class-name">MyAdmin</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	dpm<span class="token punctuation">.</span><span class="token function">resetPassword</span><span class="token punctuation">(</span><span class="token string">&quot;321&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	dpm<span class="token punctuation">.</span><span class="token function">lockNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>DevicePolicyManager\u4E2D\u7684\u65B9\u6CD5</p><ul><li><p>void lockNow() Make the device lock immediately, as if the lock screen timeout has expired at the point of this call.</p></li><li><p>boolean resetPassword(String password, int flags) Force a new device unlock password (the password needed to access the entire device, not for individual accounts) on the user.</p></li><li><p>void wipeData(int flags) Ask the user date be wiped.</p></li><li><p>boolean isAdminActive(ComponentName who) Return true if the given administrator component is currently active (enabled) in the system</p></li></ul><p>\u4F7F\u7528\u8D85\u7EA7\u7BA1\u7406\u5458DevicePolicyManager\u7684\u6B65\u9AA4</p><ol><li><p>\u8981\u5199\u4E00\u4E2A\u7C7B\u7EE7\u627FDeviceAdminReceiver</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAdmin</span> <span class="token keyword">extends</span> <span class="token class-name">DeviceAdminReceiver</span> <span class="token punctuation">{</span>
	<span class="token comment">//\u7EE7\u627F\u5C31\u53EF\u4EE5\u4E0D\u7528\u91CD\u5199\u4EFB\u4F55\u5185\u5BB9</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u5728\u6E05\u5355\u6587\u4EF6\u4E2D\u914D\u7F6E\u81EA\u5B9A\u4E49\u7684\u7C7B</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>receiver</span>
	<span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.receiver.MyAdmin<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name"><span class="token namespace">android:</span>description</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@string/admin_des<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name"><span class="token namespace">android:</span>label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u9632\u5378\u8F7D<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name"><span class="token namespace">android:</span>permission</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.BIND_DEVICE_ADMIN<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span>
		<span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.app.device_admin<span class="token punctuation">&quot;</span></span>
		<span class="token attr-name"><span class="token namespace">android:</span>resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@xml/device_admin_sample<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.app.action.DEVICE_ADMIN_ENABLED<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>receiver</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u5B8C\u6210\u7B2C\u4E8C\u6B65\u4E2D\u6240\u9700\u7684meta-data\u3002\u5728res\u4E0B\u65B0\u5EFA\u4E00\u4E2Axml\u6587\u4EF6\uFF0Cdevice_admin_sample.xml</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>device-admin</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-policies</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>limit-password</span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>watch-login</span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>reset-password</span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>force-lock</span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>wipe-data</span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>expire-password</span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encrypted-storage</span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>disable-camera</span> <span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uses-policies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>device-admin</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>\u7ECF\u8FC7\u4E0A\u9762\u7684\u4E09\u6B65\u4F7F\u7528\u540E\u4ECD\u62A5\u9519\uFF0C\u8FD9\u662F\u56E0\u4E3A\u5BF9\u4E8E\u8D85\u7EA7\u7BA1\u7406\u5458\uFF0C\u7528\u6237\u5FC5\u987B\u5728\u624B\u673A\u7684\u5E94\u7528\u7A0B\u5E8F-\u8BBE\u5907\u7BA1\u7406\u5458\u4E2D\u6FC0\u6D3B\u6211\u4EEC\u7684\u7A0B\u5E8F\u624D\u80FD\u4F7F\u7528\uFF0C\u4F46\u662F\u5BF9\u4E8E\u4E00\u822C\u7684\u4EBA\u4E0D\u77E5\u9053\u8981\u8FD9\u6837\u6FC0\u6D3B\u3002 \u6240\u4EE5\u6211\u4EEC\u8981\u5728\u81EA\u5DF1\u7684\u7A0B\u5E8F\u4E2D\u63D0\u4F9B\u4E00\u4E2A\u6309\u94AE\u8BA9\u7528\u6237\u70B9\u51FB\u5C31\u80FD\u8FDB\u5165\u8FD9\u4E2A\u6FC0\u6D3B\u8D85\u7EA7\u7BA1\u7406\u5458\u7684<code>Activity</code> \u8FD9\u91CC\u53EF\u4EE5\u901A\u8FC7\u4E0B\u9762\u7684\u65B9\u5F0F\u6765\u542F\u52A8\u8FD9\u4E2A\u6FC0\u6D3B\u8D85\u7EA7\u7BA1\u7406\u5458\u7684<code>Activity</code></p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>// \u6FC0\u6D3B\u8BBE\u5907\u8D85\u7EA7\u7BA1\u7406\u5458
public void zouni(View view) {
	Intent intent = new Intent(DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN);
	// \u521D\u59CB\u5316\u8981\u6FC0\u6D3B\u7684\u7EC4\u4EF6
	ComponentName mDeviceAdminSample = new ComponentName(mContext, MyAdmin.class);
	intent.putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN, mDeviceAdminSample);
	intent.putExtra(DevicePolicyManager.EXTRA_ADD_EXPLANATION, &quot;\u6FC0\u6D3B\u53EF\u4EE5\u9632\u6B62\u968F\u610F\u5378\u8F7D\u5E94\u7528&quot;);
	startActivity(intent);
} 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E00\u65E6\u7A0B\u5E8F\u6709\u4E86\u7BA1\u7406\u5458\u6743\u9650\u7A0B\u5E8F\u5C31\u4E0D\u80FD\u5378\u8F7D\u4E86\uFF0C\u8981\u60F3\u5378\u8F7D\u5FC5\u987B\u5728\u624B\u673A\u4E0A\u53D6\u6D88\u8BE5\u7A0B\u5E8F\u7684\u8D85\u7EA7\u7BA1\u7406\u5458\uFF0C\u4EE5\u540E\u5982\u679C\u8981\u9632\u6B62\u7A0B\u5E8F\u7684\u5378\u8F7D\u53EF\u4EE5\u901A\u8FC7\u8FD9\u79CD\u8D85\u7EA7\u7BA1\u7406\u5458\u7684\u65B9\u5F0F\u3002</p><hr><ul><li>\u90AE\u7BB1 \uFF1Acharon.chui@gmail.com</li><li>Good Luck!</li></ul>`,13),c=[p];function i(l,o){return a(),s("div",null,c)}var d=n(e,[["render",i],["__file","\u8D85\u7EA7\u7BA1\u7406\u5458(DevicePoliceManager).html.vue"]]);export{d as default};
