import{_ as c,r as o,o as p,c as l,a as n,b as e,e as t,d as s}from"./app.89e8a229.js";const i={},u=t('<h1 id="rxjava\u8BE6\u89E3-\u4E0A" tabindex="-1"><a class="header-anchor" href="#rxjava\u8BE6\u89E3-\u4E0A" aria-hidden="true">#</a> RxJava\u8BE6\u89E3(\u4E0A)</h1><p>\u5E74\u521D\u7684\u65F6\u5019\u5C31\u60F3\u5B66\u4E60\u4E0B<code>RxJava</code>\u7136\u540E\u5199\u4E00\u4E9B<code>RxJava</code>\u7684\u6559\u7A0B\uFF0C\u65E0\u5948\u53D1\u73B0\u5DF2\u7ECF\u5E74\u5E95\u4E86\uFF0C\u7136\u800C\u6211\u8FD8\u4E48\u6709\u5199\u3002\u4ECA\u5929\u6709\u70B9\u65F6\u95F4\uFF0C\u7279\u522B\u662F\u53D1\u5E03\u4E86<code>RxJava 2.0</code>\u540E\uFF0C\u6211\u51B3\u5B9A\u52A8\u7B14\u5F00\u59CB\u3002</p><p>\u73B0\u5728<code>RxJava</code>\u53D8\u7684\u8D8A\u6765\u8D8A\u6D41\u884C\u4E86\uFF0C\u5F88\u591A\u9879\u76EE\u4E2D\u90FD\u4F7F\u7528\u4E86\u5B83\u3002\u7279\u522B\u662F\u5927\u795E<code>JakeWharton</code>\u7B49\u7684\u52A0\u5165\uFF0C\u4EE5\u53CA<code>RxBinding\u3001Retrofit\u3001RxLifecycle</code>\u7B49\u4F17\u591A\u9879\u76EE\u7684\uFF0C\u7136\u5F00\u53D1\u8D8A\u6765\u8D8A\u65B9\u4FBF\uFF0C\u4F46\u662F\u4E0A\u624B\u6BD4\u8F83\u96BE\uFF0C\u4E0D\u8FC7\u4E00\u65E6\u4F60\u5165\u95E8\u540E\u4F60\u5C31\u4F1A\u53D1\u73B0\u771F\u662F\u592A\u68D2\u4E86\u3002</p><h2 id="rxjava\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#rxjava\u7B80\u4ECB" aria-hidden="true">#</a> <code>RxJava</code>\u7B80\u4ECB</h2><p>\u5728\u4ECB\u7ECD<code>RxJava</code>\u4E4B\u524D\u5148\u8BF4\u4E00\u4E0B<code>Rx</code>\u3002<code>Rx</code>\u7684\u5168\u79F0\u662F<code>Reactive Extensions</code>\uFF0C\u76F4\u8BD1\u8FC7\u6765\u5C31\u662F\u54CD\u5E94\u5F0F\u6269\u5C55\u3002</p><p><img src="https://raw.githubusercontent.com/CharonChui/Pictures/master/rx_logo.png?raw=true" alt="image"></p><p><code>Rx</code>\u57FA\u4E8E\u89C2\u5BDF\u8005\u6A21\u5F0F\uFF0C\u5B83\u662F\u4E00\u79CD\u7F16\u7A0B\u6A21\u578B\uFF0C\u76EE\u6807\u662F\u63D0\u4F9B\u4E00\u81F4\u7684\u7F16\u7A0B\u63A5\u53E3\uFF0C\u5E2E\u52A9\u5F00\u53D1\u8005\u66F4\u65B9\u4FBF\u7684\u5904\u7406\u5F02\u6B65\u6570\u636E\u6D41\u3002<code>ReactiveX.io</code>\u7ED9\u7684\u5B9A\u4E49\u662F\uFF0C<code>Rx</code>\u662F\u4E00\u4E2A\u4F7F\u7528\u53EF\u89C2\u5BDF\u6570\u636E\u6D41\u8FDB\u884C\u5F02\u6B65\u7F16\u7A0B\u7684\u7F16\u7A0B\u63A5\u53E3\uFF0C<code>ReactiveX</code>\u7ED3\u5408\u4E86\u89C2\u5BDF\u8005\u6A21\u5F0F\u3001\u8FED\u4EE3\u5668\u6A21\u5F0F\u548C\u51FD\u6570\u5F0F\u7F16\u7A0B\u7684\u7CBE\u534E\u3002<code>Rx</code>\u5DF2\u7ECF\u6E17\u900F\u5230\u4E86\u5404\u4E2A\u8BED\u8A00\u4E2D\uFF0C\u6709\u4E86<code>Rx</code>\u6240\u4EE5\u624D\u6709\u4E86<code>RxJava</code>\u3001<code>Rx.NET</code>\u3001<code>RxJS</code>\u3001<code>RxSwift</code>\u3001<code>Rx.rb</code>\u3001<code>RxPHP</code>\u7B49\u7B49\uFF0C</p><p>\u8FD9\u91CC\u5148\u5217\u4E3E\u4E00\u4E0B\u76F8\u5173\u7684\u5B98\u7F51:</p>',8),d={href:"http://reactivex.io/",target:"_blank",rel:"noopener noreferrer"},r=s("Rx"),k={href:"https://github.com/ReactiveX/RxJava",target:"_blank",rel:"noopener noreferrer"},v=s("RxJava"),b={href:"https://github.com/ReactiveX/RxAndroid",target:"_blank",rel:"noopener noreferrer"},m=s("RxAndroid"),g=t(`<p><code>RxJava</code>\u5728<code>GitHub</code>\u4E0A\u7684\u4ECB\u7ECD\u662F\uFF1A<code>a library for composing asynchronous and event-based programs by using observable sequences for the Java VM.</code> \u7FFB\u8BD1\u8FC7\u6765\u4E5F\u5C31\u662F\u4E00\u4E2A\u57FA\u4E8E\u4E8B\u4EF6\u548C\u7A0B\u5E8F\u5728<code>Java VM</code>\u4E0A\u4F7F\u7528\u53EF\u89C2\u6D4B\u7684\u5E8F\u5217\u6765\u7EC4\u6210\u5F02\u6B65\u7684\u5E93\u3002<code>RxJava</code>\u7684\u672C\u8D28\u5C31\u662F\u4E00\u4E2A\u5B9E\u73B0\u5F02\u6B65\u64CD\u4F5C\u7684\u5E93\uFF0C\u5B83\u7684\u4F18\u52BF\u5C31\u662F\u7B80\u6D01\uFF0C\u968F\u7740\u7A0B\u5E8F\u903B\u8F91\u53D8\u5F97\u8D8A\u6765\u8D8A\u590D\u6742\uFF0C\u5B83\u4F9D\u7136\u80FD\u591F\u4FDD\u6301\u7B80\u6D01\u3002</p><p>\u5176\u5B9E\u4E00\u53E5\u8BDD\u603B\u7ED3\u4E00\u4E0B<code>RxJava</code>\u7684\u4F5C\u7528\u5C31\u662F\uFF1A\u5F02\u6B65</p><p>\u8FD9\u91CC\u53EF\u80FD\u4F1A\u6709\u4EBA\u60F3\u4E0D\u5C31\u662F\u4E2A\u5F02\u6B65\u5417\uFF0C\u81F3\u4E8E\u8FA3\u4E48\u77EB\u60C5\u4E48?\u7528<code>AsyncTask</code>\u3001<code>Handler</code>\u751A\u81F3\u81EA\u5B9A\u4E49\u4E00\u4E2A<code>BigAsyncTask</code>\u5206\u5206\u949F\u641E\u5B9A\u3002</p><p>\u4F46\u662F<code>RxJava</code>\u7684\u597D\u5904\u662F\u7B80\u6D01\u3002\u5F02\u6B65\u64CD\u4F5C\u5F88\u5173\u952E\u7684\u4E00\u70B9\u662F\u7A0B\u5E8F\u7684\u7B80\u6D01\u6027\uFF0C\u56E0\u4E3A\u5728\u8C03\u5EA6\u8FC7\u7A0B\u6BD4\u8F83\u590D\u6742\u7684\u60C5\u51B5\u4E0B\uFF0C\u5F02\u6B65\u4EE3\u7801\u7ECF\u5E38\u4F1A\u65E2\u96BE\u5199\u4E5F\u96BE\u88AB\u8BFB\u61C2\u3002 <code>Android</code>\u521B\u9020\u7684<code>AsyncTask</code>\u548C<code>Handler</code>\u5176\u5B9E\u90FD\u662F\u4E3A\u4E86\u8BA9\u5F02\u6B65\u4EE3\u7801\u66F4\u52A0\u7B80\u6D01\u3002\u867D\u7136<code>RxJava</code>\u7684\u4F18\u52BF\u4E5F\u662F\u7B80\u6D01\uFF0C\u4F46\u5B83\u7684\u7B80\u6D01\u7684\u4E0E\u4F17\u4E0D\u540C\u4E4B\u5904\u5728\u4E8E\uFF0C\u968F\u7740\u7A0B\u5E8F\u903B\u8F91\u53D8\u5F97\u8D8A\u6765\u8D8A\u590D\u6742\uFF0C\u5B83\u4F9D\u7136\u80FD\u591F\u4FDD\u6301\u7B80\u6D01\u3002</p><h4 id="\u6269\u5C55\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u6269\u5C55\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F" aria-hidden="true">#</a> \u6269\u5C55\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F</h4><p><code>RxJava</code>\u7684\u5F02\u6B65\u5B9E\u73B0\uFF0C\u662F\u901A\u8FC7\u4E00\u79CD\u6269\u5C55\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F\u6765\u5B9E\u73B0\u7684\u3002</p><p>\u89C2\u5BDF\u8005\u6A21\u5F0F\u9762\u5411\u7684\u9700\u6C42\u662F\uFF1A<code>A</code>\u5BF9\u8C61\uFF08\u89C2\u5BDF\u8005\uFF09\u5BF9<code>B</code>\u5BF9\u8C61\uFF08\u88AB\u89C2\u5BDF\u8005\uFF09\u7684\u67D0\u79CD\u53D8\u5316\u9AD8\u5EA6\u654F\u611F\uFF0C\u9700\u8981\u5728<code>B</code>\u53D8\u5316\u7684\u4E00\u77AC\u95F4\u505A\u51FA\u53CD\u5E94\u3002\u4E3E\u4E2A\u4F8B\u5B50\uFF0C\u65B0\u95FB\u91CC\u559C\u95FB\u4E50\u89C1\u7684\u8B66\u5BDF\u6293\u5C0F\u5077\uFF0C\u8B66\u5BDF\u9700\u8981\u5728\u5C0F\u5077\u4F38\u624B\u4F5C\u6848\u7684\u65F6\u5019\u5B9E\u65BD\u6293\u6355\u3002\u5728\u8FD9\u4E2A\u4F8B\u5B50\u91CC\uFF0C\u8B66\u5BDF\u662F\u89C2\u5BDF\u8005\uFF0C\u5C0F\u5077\u662F\u88AB\u89C2\u5BDF\u8005\uFF0C\u8B66\u5BDF\u9700\u8981\u65F6\u523B\u76EF\u7740\u5C0F\u5077\u7684\u4E00\u4E3E\u4E00\u52A8\uFF0C\u624D\u80FD\u4FDD\u8BC1\u4E0D\u4F1A\u6F0F\u8FC7\u4EFB\u4F55\u77AC\u95F4\u3002\u7A0B\u5E8F\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F\u548C\u8FD9\u79CD\u771F\u6B63\u7684\u300E\u89C2\u5BDF\u300F\u7565\u6709\u4E0D\u540C\uFF0C\u89C2\u5BDF\u8005\u4E0D\u9700\u8981\u65F6\u523B\u76EF\u7740\u88AB\u89C2\u5BDF\u8005\uFF08\u4F8B\u5982<code>A</code>\u4E0D\u9700\u8981\u6BCF\u8FC7<code>2ms</code>\u5C31\u68C0\u67E5\u4E00\u6B21<code>B</code>\u7684\u72B6\u6001\uFF09\uFF0C\u800C\u662F\u91C7\u7528\u6CE8\u518C(<code>Register</code>)\u6216\u8005\u79F0\u4E3A\u8BA2\u9605(<code>Subscribe</code>)\u7684\u65B9\u5F0F\uFF0C\u544A\u8BC9\u88AB\u89C2\u5BDF\u8005\uFF1A\u6211\u9700\u8981\u4F60\u7684\u67D0\u67D0\u72B6\u6001\uFF0C\u4F60\u8981\u5728\u5B83\u53D8\u5316\u7684\u65F6\u5019\u901A\u77E5\u6211\u3002 <code>Android</code>\u5F00\u53D1\u4E2D\u4E00\u4E2A\u6BD4\u8F83\u5178\u578B\u7684\u4F8B\u5B50\u662F\u70B9\u51FB\u76D1\u542C\u5668<code>OnClickListener</code>\u3002\u5BF9\u8BBE\u7F6E<code>OnClickListener</code>\u6765\u8BF4\uFF0C<code>View</code>\u662F\u88AB\u89C2\u5BDF\u8005\uFF0C<code>OnClickListener</code>\u662F\u89C2\u5BDF\u8005\uFF0C\u4E8C\u8005\u901A\u8FC7 <code>setOnClickListener()</code>\u65B9\u6CD5\u8FBE\u6210\u8BA2\u9605\u5173\u7CFB\u3002\u8BA2\u9605\u4E4B\u540E\u7528\u6237\u70B9\u51FB\u6309\u94AE\u7684\u77AC\u95F4\uFF0C<code>Android Framework</code>\u5C31\u4F1A\u5C06\u70B9\u51FB\u4E8B\u4EF6\u53D1\u9001\u7ED9\u5DF2\u7ECF\u6CE8\u518C\u7684<code>OnClickListener</code>\u3002\u91C7\u53D6\u8FD9\u6837\u88AB\u52A8\u7684\u89C2\u5BDF\u65B9\u5F0F\uFF0C\u65E2\u7701\u53BB\u4E86\u53CD\u590D\u68C0\u7D22\u72B6\u6001\u7684\u8D44\u6E90\u6D88\u8017\uFF0C\u4E5F\u80FD\u591F\u5F97\u5230\u6700\u9AD8\u7684\u53CD\u9988\u901F\u5EA6\u3002\u5F53\u7136\uFF0C\u8FD9\u4E5F\u5F97\u76CA\u4E8E\u6211\u4EEC\u53EF\u4EE5\u968F\u610F\u5B9A\u5236\u81EA\u5DF1\u7A0B\u5E8F\u4E2D\u7684\u89C2\u5BDF\u8005\u548C\u88AB\u89C2\u5BDF\u8005\uFF0C\u800C\u8B66\u5BDF\u53D4\u53D4\u660E\u663E\u65E0\u6CD5\u8981\u6C42\u5C0F\u5077\u300E\u4F60\u5728\u4F5C\u6848\u7684\u65F6\u5019\u52A1\u5FC5\u901A\u77E5\u6211\u300F\u3002</p><p><code>OnClickListener</code>\u7684\u6A21\u5F0F\u5927\u81F4\u5982\u4E0B\u56FE\uFF1A</p><p><img src="https://raw.githubusercontent.com/CharonChui/Pictures/master/btn_onclick.jpg?raw=true" alt="image"></p><p>\u5982\u56FE\u6240\u793A\uFF0C\u901A\u8FC7<code>setOnClickListener()</code>\u65B9\u6CD5\uFF0C<code>Button</code>\u6301\u6709<code>OnClickListener</code>\u7684\u5F15\u7528\uFF08\u8FD9\u4E00\u8FC7\u7A0B\u6CA1\u6709\u5728\u56FE\u4E0A\u753B\u51FA\uFF09\uFF1B\u5F53\u7528\u6237\u70B9\u51FB\u65F6\uFF0C<code>Button</code>\u81EA\u52A8\u8C03\u7528<code>OnClickListener</code>\u7684<code>onClick()</code> \u65B9\u6CD5\u3002\u53E6\u5916\uFF0C\u5982\u679C\u628A\u8FD9\u5F20\u56FE\u4E2D\u7684\u6982\u5FF5\u62BD\u8C61\u51FA\u6765\uFF08<code>Button</code> -&gt; \u88AB\u89C2\u5BDF\u8005\u3001<code>OnClickListener</code> -&gt; \u89C2\u5BDF\u8005\u3001<code>setOnClickListener()</code> -&gt; \u8BA2\u9605\uFF0C<code>onClick()</code> -&gt; \u4E8B\u4EF6\uFF09\uFF0C\u5C31\u7531\u4E13\u7528\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F\uFF08\u4F8B\u5982\u53EA\u7528\u4E8E\u76D1\u542C\u63A7\u4EF6\u70B9\u51FB\uFF09\u8F6C\u53D8\u6210\u4E86\u901A\u7528\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F\u3002\u5982\u4E0B\u56FE\uFF1A</p><p><img src="https://raw.githubusercontent.com/CharonChui/Pictures/master/btn_rxjava_observable.jpg?raw=true" alt="image"></p><p>\u800C<code>RxJava</code>\u4F5C\u4E3A\u4E00\u4E2A\u5DE5\u5177\u5E93\uFF0C\u4F7F\u7528\u7684\u5C31\u662F\u901A\u7528\u5F62\u5F0F\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F\u3002</p><h4 id="rxjava\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#rxjava\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F" aria-hidden="true">#</a> <code>RxJava</code>\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F</h4><p><code>RxJava</code>\u7684\u57FA\u672C\u6982\u5FF5\uFF1A</p><ul><li><code>Observable</code>(\u53EF\u89C2\u5BDF\u8005\uFF0C\u5373\u88AB\u89C2\u5BDF\u8005)\u3001</li><li><code>Observer</code>(\u89C2\u5BDF\u8005)\u3001</li><li><code>subscribe()</code>(\u8BA2\u9605)\u3001\u4E8B\u4EF6\u3002<br><code>Observable</code>\u548C<code>Observer</code>\u901A\u8FC7<code>subscribe()</code> \u65B9\u6CD5\u5B9E\u73B0\u8BA2\u9605\u5173\u7CFB\uFF0C\u4ECE\u800C<code>Observable</code>\u53EF\u4EE5\u5728\u9700\u8981\u7684\u65F6\u5019\u53D1\u51FA\u4E8B\u4EF6\u6765\u901A\u77E5<code>Observer</code>\u3002</li></ul><p>\u4E0E\u4F20\u7EDF\u89C2\u5BDF\u8005\u6A21\u5F0F\u4E0D\u540C\uFF0C<code>RxJava</code>\u7684\u4E8B\u4EF6\u56DE\u8C03\u65B9\u6CD5\u9664\u4E86\u666E\u901A\u4E8B\u4EF6<code>onNext()</code>(\u76F8\u5F53\u4E8E<code>onClick()</code>/<code>onEvent()</code>)\u4E4B\u5916\uFF0C\u8FD8\u5B9A\u4E49\u4E86\u4E24\u4E2A\u7279\u6B8A\u7684\u4E8B\u4EF6\uFF1A<code>onCompleted()</code>\u548C<code>onError()</code>:<br> \u4F46\u662F<code>RxJava</code>\u4E0E\u4F20\u7EDF\u7684\u89C2\u5BDF\u8005\u8BBE\u8BA1\u6A21\u5F0F\u6709\u4E00\u70B9\u660E\u663E\u4E0D\u540C\uFF0C\u90A3\u5C31\u662F\u5982\u679C\u4E00\u4E2A<code>Observerble</code>\u6CA1\u6709\u4EFB\u4F55\u7684\u7684<code>Subscriber</code>\uFF0C\u90A3\u4E48\u8FD9\u4E2A<code>Observable</code>\u662F\u4E0D\u4F1A\u53D1\u51FA\u4EFB\u4F55\u4E8B\u4EF6\u7684\u3002</p><ul><li><code>onCompleted()</code>: \u4E8B\u4EF6\u961F\u5217\u5B8C\u7ED3\u3002<br><code>RxJava</code>\u4E0D\u4EC5\u628A\u6BCF\u4E2A\u4E8B\u4EF6\u5355\u72EC\u5904\u7406\uFF0C\u8FD8\u4F1A\u628A\u5B83\u4EEC\u770B\u505A\u4E00\u4E2A\u961F\u5217\u3002<code>RxJava</code>\u89C4\u5B9A\uFF0C\u5F53\u4E0D\u4F1A\u518D\u6709\u65B0\u7684<code>onNext()</code>\u53D1\u51FA\u65F6\uFF0C\u9700\u8981\u89E6\u53D1<code>onCompleted()</code> \u65B9\u6CD5\u4F5C\u4E3A\u6807\u5FD7\u3002</li><li><code>onError()</code>: \u4E8B\u4EF6\u961F\u5217\u5F02\u5E38\u3002 \u5728\u4E8B\u4EF6\u5904\u7406\u8FC7\u7A0B\u4E2D\u51FA\u5F02\u5E38\u65F6\uFF0C<code>onError()</code>\u4F1A\u88AB\u89E6\u53D1\uFF0C\u540C\u65F6\u961F\u5217\u81EA\u52A8\u7EC8\u6B62\uFF0C\u4E0D\u5141\u8BB8\u518D\u6709\u4E8B\u4EF6\u53D1\u51FA\u3002</li><li>\u5728\u4E00\u4E2A\u6B63\u786E\u8FD0\u884C\u7684\u4E8B\u4EF6\u5E8F\u5217\u4E2D, <code>onCompleted()</code>\u548C<code>onError()</code>\u6709\u4E14\u53EA\u6709\u4E00\u4E2A\uFF0C\u5E76\u4E14\u662F\u4E8B\u4EF6\u5E8F\u5217\u4E2D\u7684\u6700\u540E\u4E00\u4E2A\u3002\u9700\u8981\u6CE8\u610F\u7684\u662F<code>onCompleted()</code>\u548C<code>onError()</code> \u4E8C\u8005\u4E5F\u662F\u4E92\u65A5\u7684\uFF0C\u5373\u5728\u961F\u5217\u4E2D\u8C03\u7528\u4E86\u5176\u4E2D\u4E00\u4E2A\uFF0C\u5C31\u4E0D\u5E94\u8BE5\u518D\u8C03\u7528\u53E6\u4E00\u4E2A\u3002</li></ul><p><code>RxJava</code>\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F\u5927\u81F4\u5982\u4E0B\u56FE\uFF1A</p><p><img src="https://raw.githubusercontent.com/CharonChui/Pictures/master/rxjava_observer_1.jpg?raw=true" alt="image"></p><h4 id="\u57FA\u672C\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u5B9E\u73B0" aria-hidden="true">#</a> \u57FA\u672C\u5B9E\u73B0</h4><p>\u57FA\u4E8E\u4E0A\u9762\u7684\u6982\u5FF5\uFF0C <code>RxJava</code>\u7684\u57FA\u672C\u5B9E\u73B0\u4E3B\u8981\u6709\u4E09\u70B9:</p><ul><li><p>\u521B\u5EFA<code>Observable</code><br><code>Observable</code>\u5373\u88AB\u89C2\u5BDF\u8005\uFF0C\u5B83\u51B3\u5B9A\u4EC0\u4E48\u65F6\u5019\u89E6\u53D1\u4E8B\u4EF6\u4EE5\u53CA\u89E6\u53D1\u600E\u6837\u7684\u4E8B\u4EF6\u3002 <code>RxJava</code>\u4F7F\u7528<code>Observable.create()</code>\u65B9\u6CD5\u6765\u521B\u5EFA\u4E00\u4E2A<code>Observable</code>\uFF0C\u5E76\u4E3A\u5B83\u5B9A\u4E49\u4E8B\u4EF6\u89E6\u53D1\u89C4\u5219\u3002</p></li><li><p>\u521B\u5EFA<code>Observer</code>\u5373\u89C2\u5BDF\u8005\uFF0C\u5B83\u51B3\u5B9A\u4E8B\u4EF6\u89E6\u53D1\u7684\u65F6\u5019\u5C06\u6709\u600E\u6837\u7684\u884C\u4E3A\u3002<br><code>RxJava</code>\u4E2D\u7684<code>Observer</code>\u63A5\u53E3\u7684\u5B9E\u73B0\u65B9\u5F0F:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Observer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNext</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token string">&quot;Item: &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token string">&quot;Completed!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token string">&quot;Error!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9664\u4E86<code>Observer</code>\u63A5\u53E3\u4E4B\u5916\uFF0C<code>RxJava</code>\u8FD8\u5185\u7F6E\u4E86\u4E00\u4E2A\u5B9E\u73B0\u4E86<code>Observer</code>\u7684\u62BD\u8C61\u7C7B:<code>Subscriber</code>\u3002<code>Subscriber</code>\u5BF9<code>Observer</code>\u63A5\u53E3\u8FDB\u884C\u4E86\u4E00\u4E9B\u6269\u5C55\uFF0C\u4F46\u4ED6\u4EEC\u7684\u57FA\u672C\u4F7F\u7528\u65B9\u5F0F\u662F\u5B8C\u5168\u4E00\u6837\u7684\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> subscriber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNext</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token string">&quot;Item: &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token string">&quot;Completed!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token string">&quot;Error!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0D\u4EC5\u57FA\u672C\u4F7F\u7528\u65B9\u5F0F\u4E00\u6837\uFF0C\u5B9E\u8D28\u4E0A\uFF0C\u5728<code>RxJava</code>\u7684<code>subscribe()</code>\u8FC7\u7A0B\u4E2D\uFF0C<code>Observer</code>\u4E5F\u603B\u662F\u4F1A\u5148\u88AB\u8F6C\u6362\u6210\u4E00\u4E2A<code>Subscriber</code>\u518D\u4F7F\u7528\u3002\u6240\u4EE5\u5982\u679C\u4F60\u53EA\u60F3\u4F7F\u7528\u57FA\u672C\u529F\u80FD\uFF0C\u9009\u62E9<code>Observer</code>\u548C <code>Subscriber</code>\u662F\u5B8C\u5168\u4E00\u6837\u7684\u3002\u5B83\u4EEC\u7684\u533A\u522B\u5BF9\u4E8E\u4F7F\u7528\u8005\u6765\u8BF4\u4E3B\u8981\u6709\u4E24\u70B9\uFF1A</p><ul><li><code>onStart()</code>: \u8FD9\u662F<code>Subscriber</code>\u589E\u52A0\u7684\u65B9\u6CD5\u3002\u5B83\u4F1A\u5728<code>subscribe()</code>\u521A\u5F00\u59CB\u800C\u4E8B\u4EF6\u8FD8\u672A\u53D1\u9001\u4E4B\u524D\u88AB\u8C03\u7528\uFF0C\u53EF\u4EE5\u7528\u4E8E\u505A\u4E00\u4E9B\u51C6\u5907\u5DE5\u4F5C\uFF0C\u4F8B\u5982\u6570\u636E\u7684\u6E05\u96F6\u6216\u91CD\u7F6E\u3002\u8FD9\u662F\u4E00\u4E2A\u53EF\u9009\u65B9\u6CD5\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u5B83\u7684\u5B9E\u73B0\u4E3A\u7A7A\u3002\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u5982\u679C\u5BF9\u51C6\u5907\u5DE5\u4F5C\u7684\u7EBF\u7A0B\u6709\u8981\u6C42\uFF08\u4F8B\u5982\u5F39\u51FA\u4E00\u4E2A\u663E\u793A\u8FDB\u5EA6\u7684\u5BF9\u8BDD\u6846\uFF0C\u8FD9\u5FC5\u987B\u5728\u4E3B\u7EBF\u7A0B\u6267\u884C\uFF09\uFF0C <code>onStart()</code>\u5C31\u4E0D\u9002\u7528\u4E86\uFF0C\u56E0\u4E3A\u5B83\u603B\u662F\u5728<code>subscribe()</code> \u6240\u53D1\u751F\u7684\u7EBF\u7A0B\u88AB\u8C03\u7528\uFF0C\u800C\u4E0D\u80FD\u6307\u5B9A\u7EBF\u7A0B\u3002\u8981\u5728\u6307\u5B9A\u7684\u7EBF\u7A0B\u6765\u505A\u51C6\u5907\u5DE5\u4F5C\uFF0C\u53EF\u4EE5\u4F7F\u7528<code>doOnSubscribe()</code>\u65B9\u6CD5\uFF0C\u5177\u4F53\u53EF\u4EE5\u5728\u540E\u9762\u7684\u6587\u4E2D\u770B\u5230\u3002</li><li><code>unsubscribe</code>(): \u8FD9\u662F<code>Subscriber</code>\u6240\u5B9E\u73B0\u7684\u53E6\u4E00\u4E2A\u63A5\u53E3<code>Subscription</code>\u7684\u65B9\u6CD5\uFF0C\u7528\u4E8E\u53D6\u6D88\u8BA2\u9605\u3002\u5728\u8FD9\u4E2A\u65B9\u6CD5\u88AB\u8C03\u7528\u540E\uFF0C<code>Subscriber</code> \u5C06\u4E0D\u518D\u63A5\u6536\u4E8B\u4EF6\u3002\u4E00\u822C\u5728\u8FD9\u4E2A\u65B9\u6CD5\u8C03\u7528\u524D\uFF0C\u53EF\u4EE5\u4F7F\u7528<code>isUnsubscribed()</code>\u5148\u5224\u65AD\u4E00\u4E0B\u72B6\u6001\u3002 <code>unsubscribe()</code>\u8FD9\u4E2A\u65B9\u6CD5\u5F88\u91CD\u8981\uFF0C\u56E0\u4E3A\u5728<code>subscribe()</code>\u4E4B\u540E,<code>Observable</code>\u4F1A\u6301\u6709 <code>Subscriber</code>\u7684\u5F15\u7528\uFF0C\u8FD9\u4E2A\u5F15\u7528\u5982\u679C\u4E0D\u80FD\u53CA\u65F6\u88AB\u91CA\u653E\uFF0C\u5C06\u6709\u5185\u5B58\u6CC4\u9732\u7684\u98CE\u9669\u3002\u6240\u4EE5\u6700\u597D\u4FDD\u6301\u4E00\u4E2A\u539F\u5219\uFF1A\u8981\u5728\u4E0D\u518D\u4F7F\u7528\u7684\u65F6\u5019\u5C3D\u5FEB\u5728\u5408\u9002\u7684\u5730\u65B9\uFF08\u4F8B\u5982<code>onPause()\u3001onStop()</code>\u7B49\u65B9\u6CD5\u4E2D\uFF09\u8C03\u7528<code>unsubscribe()</code>\u6765\u89E3\u9664\u5F15\u7528\u5173\u7CFB\uFF0C\u4EE5\u907F\u514D\u5185\u5B58\u6CC4\u9732\u7684\u53D1\u751F\u3002 \u6240\u4EE5\u540E\u7EED\u8BB2\u89E3\u65F6\u6211\u4EEC\u6709\u65F6\u4F1A\u7528<code>Subscriber</code>\u6765\u4EE3\u66FF<code>Observer</code>\u3002</li></ul></li><li><p>\u8C03\u7528<code>subscribe()</code>\u65B9\u6CD5(\u8BA2\u9605)</p><p>\u521B\u5EFA\u4E86\u4E00\u4E2A<code>Observable</code>\u548C<code>Observer</code>\u4E4B\u540E\uFF0C\u518D\u7528<code>subscribe()</code>\u65B9\u6CD5\u5C06\u5B83\u4EEC\u8054\u7ED3\u8D77\u6765\uFF0C\u6574\u6761\u94FE\u5B50\u5C31\u53EF\u4EE5\u5DE5\u4F5C\u4E86\u3002\u4EE3\u7801\u5F62\u5F0F\u5F88\u7B80\u5355\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>observable<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">// \u6216\u8005\uFF1A</span>
observable<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u6709\u4EBA\u53EF\u80FD\u4F1A\u6CE8\u610F\u5230\uFF0C<code>subscribe()</code>\u8FD9\u4E2A\u65B9\u6CD5\u6709\u70B9\u602A\uFF1A\u5B83\u770B\u8D77\u6765\u662F<code>observalbe</code>\u8BA2\u9605\u4E86<code>observer/subscriber</code>\u800C\u4E0D\u662F<code>observer/subscriber</code>\u8BA2\u9605\u4E86<code>observalbe</code>\uFF0C\u8FD9\u770B\u8D77\u6765\u5C31\u50CF\u300E\u6742\u5FD7\u8BA2\u9605\u4E86\u8BFB\u8005\u300F\u4E00\u6837\u98A0\u5012\u4E86\u5BF9\u8C61\u5173\u7CFB\u3002\u8FD9\u8BA9\u4EBA\u8BFB\u8D77\u6765\u6709\u70B9\u522B\u626D\uFF0C\u4E0D\u8FC7\u5982\u679C\u628A<code>API</code>\u8BBE\u8BA1\u6210<code>observer.subscribe(observable)/subscriber.subscribe(observable)</code> \uFF0C\u867D\u7136\u66F4\u52A0\u7B26\u5408\u601D\u7EF4\u903B\u8F91\uFF0C\u4F46\u5BF9\u6D41\u5F0F<code>API</code>\u7684\u8BBE\u8BA1\u5C31\u9020\u6210\u5F71\u54CD\u4E86\uFF0C\u6BD4\u8F83\u8D77\u6765\u660E\u663E\u662F\u5F97\u4E0D\u507F\u5931\u7684\u3002</p></blockquote></li></ul><h2 id="rxjava\u5165\u95E8\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#rxjava\u5165\u95E8\u793A\u4F8B" aria-hidden="true">#</a> <code>RxJava</code>\u5165\u95E8\u793A\u4F8B</h2><p>\u4E00\u4E2A<code>Observable</code>\u53EF\u4EE5\u53D1\u51FA\u96F6\u4E2A\u6216\u8005\u591A\u4E2A\u4E8B\u4EF6\uFF0C\u77E5\u9053\u7ED3\u675F\u6216\u8005\u51FA\u9519\u3002\u6BCF\u53D1\u51FA\u4E00\u4E2A\u4E8B\u4EF6\uFF0C\u5C31\u4F1A\u8C03\u7528\u5B83\u7684<code>Subscriber</code>\u7684<code>onNext</code>\u65B9\u6CD5\uFF0C\u6700\u540E\u8C03\u7528<code>Subscriber.onComplete()</code>\u6216\u8005<code>Subscriber.onError()</code>\u7ED3\u675F\u3002</p><h4 id="hello-world" tabindex="-1"><a class="header-anchor" href="#hello-world" aria-hidden="true">#</a> <code>Hello World</code></h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>compile &#39;io.reactivex:rxandroid:1.2.1&#39;
// Because RxAndroid releases are few and far between, it is recommended you also
// explicitly depend on RxJava&#39;s latest version for bug fixes and new features.
compile &#39;io.reactivex:rxjava:1.2.3&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// \u521B\u5EFA\u88AB\u89C2\u5BDF\u8005\u3001\u6570\u636E\u6E90</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> observable <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Observable<span class="token punctuation">.</span>OnSubscribe</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> subscriber<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u53EF\u4EE5\u770B\u5230\uFF0C\u8FD9\u91CC\u4F20\u5165\u4E86\u4E00\u4E2A OnSubscribe \u5BF9\u8C61\u4F5C\u4E3A\u53C2\u6570\u3002OnSubscribe \u4F1A\u88AB\u5B58\u50A8\u5728\u8FD4\u56DE\u7684 Observable \u5BF9\u8C61\u4E2D\uFF0C\u5B83\u7684\u4F5C\u7528\u76F8\u5F53\u4E8E\u4E00\u4E2A\u8BA1\u5212\u8868\uFF0C\u5F53 Observable      </span>
        <span class="token comment">//\u88AB\u8BA2\u9605\u7684\u65F6\u5019\uFF0COnSubscribe \u7684 call() \u65B9\u6CD5\u4F1A\u81EA\u52A8\u88AB\u8C03\u7528\uFF0C\u4E8B\u4EF6\u5E8F\u5217\u5C31\u4F1A\u4F9D\u7167\u8BBE\u5B9A\u4F9D\u6B21\u89E6\u53D1\uFF08\u5BF9\u4E8E\u4E0A\u9762\u7684\u4EE3\u7801\uFF0C\u5C31\u662F\u89C2\u5BDF\u8005Subscriber \u5C06\u4F1A\u88AB\u8C03\u7528\u4E09\u6B21 onNext() \u548C\u4E00\u6B21 </span>
        <span class="token comment">// onCompleted()\uFF09\u3002\u8FD9\u6837\uFF0C\u7531\u88AB\u89C2\u5BDF\u8005\u8C03\u7528\u4E86\u89C2\u5BDF\u8005\u7684\u56DE\u8C03\u65B9\u6CD5\uFF0C\u5C31\u5B9E\u73B0\u4E86\u7531\u88AB\u89C2\u5BDF\u8005\u5411\u89C2\u5BDF\u8005\u7684\u4E8B\u4EF6\u4F20\u9012\uFF0C\u5373\u89C2\u5BDF\u8005\u6A21\u5F0F\u3002</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token string">&quot;@@@&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;call&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subscriber<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span><span class="token string">&quot;Hello &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subscriber<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span><span class="token string">&quot;World !&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subscriber<span class="token punctuation">.</span><span class="token function">onCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u521B\u5EFA\u89C2\u5BDF\u8005</span>
<span class="token class-name">Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> subscriber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token string">&quot;@@@&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onCompleted&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token string">&quot;@@@&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onError&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNext</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token string">&quot;@@@&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onNext : &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// \u5173\u8054\u6216\u8005\u53EB\u8BA2\u9605\u66F4\u5408\u9002\u3002</span>
observable<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E00\u65E6<code>subscriber</code>\u8BA2\u9605\u4E86<code>observable</code>\uFF0C<code>observable</code>\u5C31\u4F1A\u8C03\u7528<code>subscriber</code>\u5BF9\u8C61\u7684<code>onNext</code>\u548C<code>onComplete</code>\u65B9\u6CD5\uFF0C<code>subscriber</code>\u5C31\u4F1A\u6253\u5370\u51FA<code>Hello World</code>.</p><p><code>Observable.subscribe(Subscriber)</code>\u7684\u5185\u90E8\u5B9E\u73B0\u662F\u8FD9\u6837\u7684\uFF08\u4EC5\u6838\u5FC3\u4EE3\u7801\uFF09\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// \u6CE8\u610F\uFF1A\u8FD9\u4E0D\u662F\`subscribe()\`\u7684\u6E90\u7801\uFF0C\u800C\u662F\u5C06\u6E90\u7801\u4E2D\u4E0E\u6027\u80FD\u3001\u517C\u5BB9\u6027\u3001\u6269\u5C55\u6027\u6709\u5173\u7684\u4EE3\u7801\u5254\u9664\u540E\u7684\u6838\u5FC3\u4EE3\u7801\u3002</span>
<span class="token keyword">public</span> <span class="token class-name">Subscription</span> <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">Subscriber</span> subscriber<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   subscriber<span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   onSubscribe<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> subscriber<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u770B\u5230<code>subscriber()</code>\u505A\u4E863\u4EF6\u4E8B\uFF1A</p><ul><li>\u8C03\u7528<code>Subscriber.onStart()</code>\u3002\u8FD9\u4E2A\u65B9\u6CD5\u5728\u524D\u9762\u5DF2\u7ECF\u4ECB\u7ECD\u8FC7\uFF0C\u662F\u4E00\u4E2A\u53EF\u9009\u7684\u51C6\u5907\u65B9\u6CD5\u3002</li><li>\u8C03\u7528<code>Observable</code>\u4E2D\u7684<code>onSubscribe.call(Subscriber)</code>\u3002\u5728\u8FD9\u91CC\uFF0C\u4E8B\u4EF6\u53D1\u9001\u7684\u903B\u8F91\u5F00\u59CB\u8FD0\u884C\u3002\u4ECE\u8FD9\u4E5F\u53EF\u4EE5\u770B\u51FA\uFF0C\u5728<code>RxJava</code>\u4E2D\uFF0C<code>Observable</code> \u5E76\u4E0D\u662F\u5728\u521B\u5EFA\u7684\u65F6\u5019\u5C31\u7ACB\u5373\u5F00\u59CB\u53D1\u9001\u4E8B\u4EF6\uFF0C\u800C\u662F\u5728\u5B83\u88AB\u8BA2\u9605\u7684\u65F6\u5019\uFF0C\u5373\u5F53<code>subscribe()</code>\u65B9\u6CD5\u6267\u884C\u7684\u65F6\u5019\u3002</li><li>\u5C06\u4F20\u5165\u7684<code>Subscriber</code>\u4F5C\u4E3A<code>Subscription</code>\u8FD4\u56DE\u3002\u8FD9\u662F\u4E3A\u4E86\u65B9\u4FBF<code>unsubscribe()</code>.</li></ul><p>\u6574\u4E2A\u8FC7\u7A0B\u4E2D\u5BF9\u8C61\u95F4\u7684\u5173\u7CFB\u5982\u4E0B\u56FE\uFF1A</p><p><img src="https://raw.githubusercontent.com/CharonChui/Pictures/master/rxjava_observable_list.gif?raw=true" alt="image"></p><p>\u8BB2\u5230\u8FD9\u91CC\u5F88\u591A\u4EBA\u80AF\u5B9A\u4F1A\u9A82\u50BB<code>X</code>,\u8FD9TM\u7B80\u6D01\u4F60\u59B9\u554A...\uFF0C\u8FD9\u91CC\u53EA\u662F\u4E2A\u5165\u95E8<code>Hello World</code>\uFF0C\u771F\u6B63\u7684\u7B80\u6D01\u7B49\u4F60\u770B\u5B8C\u5168\u90E8\u4ECB\u7ECD\u540E\u5C31\u660E\u767D\u4E86\u3002</p><p><code>RxJava</code>\u5185\u7F6E\u4E86\u5F88\u591A\u7B80\u5316\u521B\u5EFA<code>Observable</code>\u5BF9\u8C61\u7684\u51FD\u6570\uFF0C\u6BD4\u5982<code>Observable.just()</code>\u5C31\u662F\u7528\u6765\u521B\u5EFA\u53EA\u53D1\u51FA\u4E00\u4E2A\u4E8B\u4EF6\u5C31\u7ED3\u675F\u7684<code>Observable</code>\u5BF9\u8C61\uFF0C\u4E0A\u9762\u521B\u5EFA<code>Observable</code>\u5BF9\u8C61\u7684\u4EE3\u7801\u53EF\u4EE5\u7B80\u5316\u4E3A\u4E00\u884C</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> observable <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token string">&quot;Hello &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;World !&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u63A5\u4E0B\u6765\u770B\u770B\u5982\u4F55\u7B80\u5316<code>Subscriber</code>\uFF0C\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0C\u6211\u4EEC\u5176\u5B9E\u5E76\u4E0D\u5173\u5FC3<code>onComplete()</code>\u548C<code>onError</code>\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u5728<code>onNext</code>\u7684\u65F6\u5019\u505A\u4E00\u4E9B\u5904\u7406\uFF0C\u8FD9\u65F6\u5019\u5C31\u53EF\u4EE5\u4F7F\u7528<code>Action1</code>\u7C7B\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Action1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> action1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token string">&quot;@@@&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;call : &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Observable.subscribe()</code>\u65B9\u6CD5\u6709\u4E00\u4E2A\u91CD\u8F7D\u7248\u672C\uFF0C\u63A5\u53D7\u4E09\u4E2A<code>Action1</code>\u7C7B\u578B\u7684\u53C2\u6570</p><p><img src="https://raw.githubusercontent.com/CharonChui/Pictures/master/rxjava_subscribe_params.png?raw=true" alt="image"></p><p>\u6240\u4EE5\u4E0A\u9762\u7684\u4EE3\u7801\u6700\u7EC8\u53EF\u4EE5\u5199\u6210\u8FD9\u6837:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token string">&quot;Hello &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;World !&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token string">&quot;@@@&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;call : &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u91CC\u987A\u4FBF\u591A\u63D0\u4E00\u4E9B<code>subscribe()</code>\u7684\u591A\u4E2A<code>Action</code>\u53C2\u6570\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Action1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> onNextAction <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// onNext()</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Action1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span> onErrorAction <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// onError()</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Error handling</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Action0</span> onCompletedAction <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Action0</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// onCompleted()</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token string">&quot;completed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

observable<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>onNextAction<span class="token punctuation">,</span> onErrorAction<span class="token punctuation">,</span> onCompletedAction<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7B80\u5355\u89E3\u91CA\u4E00\u4E0B\u8FD9\u6BB5\u4EE3\u7801\u4E2D\u51FA\u73B0\u7684<code>Action1</code>\u548C<code>Action0</code>\u3002<code>Action0</code>\u662F<code>RxJava</code>\u7684\u4E00\u4E2A\u63A5\u53E3\uFF0C\u5B83\u53EA\u6709\u4E00\u4E2A\u65B9\u6CD5<code>call()</code>\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u662F\u65E0\u53C2\u65E0\u8FD4\u56DE\u503C\u7684\uFF1B\u7531\u4E8E<code>onCompleted()</code> \u65B9\u6CD5\u4E5F\u662F\u65E0\u53C2\u65E0\u8FD4\u56DE\u503C\u7684\uFF0C\u56E0\u6B64<code>Action0</code>\u53EF\u4EE5\u88AB\u5F53\u6210\u4E00\u4E2A\u5305\u88C5\u5BF9\u8C61\uFF0C\u5C06<code>onCompleted()</code>\u7684\u5185\u5BB9\u6253\u5305\u8D77\u6765\u5C06\u81EA\u5DF1\u4F5C\u4E3A\u4E00\u4E2A\u53C2\u6570\u4F20\u5165<code>subscribe()</code>\u4EE5\u5B9E\u73B0\u4E0D\u5B8C\u6574\u5B9A\u4E49\u7684\u56DE\u8C03\u3002\u8FD9\u6837\u5176\u5B9E\u4E5F\u53EF\u4EE5\u770B\u505A\u5C06 <code>onCompleted()</code>\u65B9\u6CD5\u4F5C\u4E3A\u53C2\u6570\u4F20\u8FDB\u4E86<code>subscribe()</code>\uFF0C\u76F8\u5F53\u4E8E\u5176\u4ED6\u67D0\u4E9B\u8BED\u8A00\u4E2D\u7684\u300E\u95ED\u5305\u300F\u3002<code>Action1</code>\u4E5F\u662F\u4E00\u4E2A\u63A5\u53E3\uFF0C\u5B83\u540C\u6837\u53EA\u6709\u4E00\u4E2A\u65B9\u6CD5<code>call(T param)</code>\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u65E0\u8FD4\u56DE\u503C\uFF0C\u4F46\u6709\u4E00\u4E2A\u53C2\u6570\uFF1B\u4E0E<code>Action0</code>\u540C\u7406\uFF0C\u7531\u4E8E<code>onNext(T obj)</code>\u548C<code>onError(Throwable error)</code>\u4E5F\u662F\u5355\u53C2\u6570\u65E0\u8FD4\u56DE\u503C\u7684\uFF0C\u56E0\u6B64<code>Action1</code>\u53EF\u4EE5\u5C06<code>onNext(obj)</code>\u548C<code>onError(error)</code>\u6253\u5305\u8D77\u6765\u4F20\u5165<code>subscribe()</code>\u4EE5\u5B9E\u73B0\u4E0D\u5B8C\u6574\u5B9A\u4E49\u7684\u56DE\u8C03\u3002\u4E8B\u5B9E\u4E0A\uFF0C\u867D\u7136<code>Action0</code>\u548C<code>Action1</code>\u5728<code>API</code>\u4E2D\u4F7F\u7528\u6700\u5E7F\u6CDB\uFF0C\u4F46<code>RxJava</code>\u662F\u63D0\u4F9B\u4E86\u591A\u4E2A<code>ActionX</code>\u5F62\u5F0F\u7684\u63A5\u53E3(\u4F8B\u5982<code>Action2</code>, <code>Action3</code>)\u7684\uFF0C\u5B83\u4EEC\u53EF\u4EE5\u88AB\u7528\u4EE5\u5305\u88C5\u4E0D\u540C\u7684\u65E0\u8FD4\u56DE\u503C\u7684\u65B9\u6CD5\u3002</p><p>\u5047\u8BBE\u6211\u4EEC\u7684<code>Observable</code>\u662F\u7B2C\u4E09\u65B9\u63D0\u4F9B\u7684\uFF0C\u5B83\u63D0\u4F9B\u4E86\u5927\u91CF\u7684\u7528\u6237\u6570\u636E\u7ED9\u6211\u4EEC\uFF0C\u800C\u6211\u4EEC\u9700\u8981\u4ECE\u7528\u6237\u6570\u636E\u4E2D\u7B5B\u9009\u90E8\u5206\u6709\u7528\u7684\u4FE1\u606F\uFF0C\u90A3\u6211\u4EEC\u8BE5\u600E\u4E48\u529E\u5462\uFF1F<br> \u4ECE<code>Observable</code>\u4E2D\u53BB\u4FEE\u6539\u80AF\u5B9A\u662F\u4E0D\u73B0\u5B9E\u7684\uFF1F\u90A3\u4ECE<code>Subscriber</code>\u4E2D\u8FDB\u884C\u4FEE\u6539\u5462\uFF1F \u8FD9\u6837\u597D\u50CF\u662F\u53EF\u4EE5\u5B8C\u6210\u7684\u3002\u4F46\u662F\u8FD9\u79CD\u65B9\u5F0F\u5E76\u4E0D\u597D\uFF0C\u56E0\u4E3A\u6211\u4EEC\u5E0C\u671B<code>Subscriber</code>\u8D8A\u8F7B\u91CF\u8D8A\u597D\uFF0C\u56E0\u4E3A\u5F88\u6709\u53EF\u80FD\u6211\u4EEC\u9700\u8981 \u5728\u4E3B\u7EBF\u7A0B\u4E2D\u53BB\u6267\u884C<code>Subscriber</code>\u3002\u53E6\u5916\uFF0C\u6839\u636E\u54CD\u5E94\u5F0F\u51FD\u6570\u7F16\u7A0B\u7684\u6982\u5FF5\uFF0C<code>Subscribers</code>\u66F4\u5E94\u8BE5\u505A\u7684\u4E8B\u60C5\u662F<code>\u54CD\u5E94</code>\uFF0C\u54CD\u5E94<code>Observable</code>\u53D1\u51FA\u7684\u4E8B\u4EF6\uFF0C\u800C\u4E0D\u662F\u53BB\u4FEE\u6539\u3002 \u90A3\u8BE5\u600E\u4E48\u529E\u5462\uFF1F \u8FD9\u5C31\u8981\u7528\u5230\u4E0B\u9762\u7684\u90E8\u5206\u8981\u8BB2\u7684\u64CD\u4F5C\u7B26\u3002</p><h2 id="\u64CD\u4F5C\u7B26-operators" tabindex="-1"><a class="header-anchor" href="#\u64CD\u4F5C\u7B26-operators" aria-hidden="true">#</a> \u64CD\u4F5C\u7B26(<code>Operators</code>)</h2><p><code>RxJava</code>\u63D0\u4F9B\u4E86\u5BF9\u4E8B\u4EF6\u5E8F\u5217\u8FDB\u884C\u53D8\u6362\u7684\u652F\u6301\uFF0C\u8FD9\u662F\u5B83\u7684\u6838\u5FC3\u529F\u80FD\u4E4B\u4E00.\u6240\u8C13\u53D8\u6362\uFF0C\u5C31\u662F\u5C06\u4E8B\u4EF6\u5E8F\u5217\u4E2D\u7684\u5BF9\u8C61\u6216\u6574\u4E2A\u5E8F\u5217\u8FDB\u884C\u52A0\u5DE5\u5904\u7406\uFF0C\u8F6C\u6362\u6210\u4E0D\u540C\u7684\u4E8B\u4EF6\u6216\u4E8B\u4EF6\u5E8F\u5217\u3002<br> \u64CD\u4F5C\u7B26\u5C31\u662F\u4E3A\u4E86\u89E3\u51B3\u5BF9<code>Observable</code>\u5BF9\u8C61\u7684\u53D8\u6362\u7684\u95EE\u9898\uFF0C\u64CD\u4F5C\u7B26\u7528\u4E8E\u5728<code>Observable</code>\u548C\u6700\u7EC8\u7684<code>Subscriber</code>\u4E4B\u95F4\u4FEE\u6539<code>Observable</code>\u53D1\u51FA\u7684\u4E8B\u4EF6\u3002<code>RxJava</code>\u63D0\u4F9B\u4E86\u5F88\u591A\u5F88\u6709\u7528\u7684\u64CD\u4F5C\u7B26\u3002 \u6BD4\u5982<code>map</code>\u64CD\u4F5C\u7B26\uFF0C\u5C31\u662F\u7528\u6765\u628A\u628A\u4E00\u4E2A\u4E8B\u4EF6\u8F6C\u6362\u4E3A\u53E6\u4E00\u4E2A\u4E8B\u4EF6\u7684\u3002</p><h4 id="map" tabindex="-1"><a class="header-anchor" href="#map" aria-hidden="true">#</a> <code>map</code></h4><p><code>Returns an Observable that applies a specified function to each item emitted by the source Observable and emits the results of these function applications.</code></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> just <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token string">&quot;Hello &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;World !&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> just<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Func1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> s <span class="token operator">+</span> <span class="token string">&quot;@@@&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token string">&quot;@@@&quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u7684\u4EE3\u7801\u6253\u5370\u51FA\u7684\u7ED3\u679C\u662F:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>12-12 15:51:22.184 472-472/com.charon.rxjavastudydemo I/@@@: Hello @@@
12-12 15:51:22.184 472-472/com.charon.rxjavastudydemo I/@@@: World !@@@
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>map()</code>\u64CD\u4F5C\u7B26\u5C31\u662F\u7528\u4E8E\u53D8\u6362<code>Observable</code>\u5BF9\u8C61\u7684\uFF0C<code>map</code>\u64CD\u4F5C\u7B26\u8FD4\u56DE\u4E00\u4E2A<code>Observable</code>\u5BF9\u8C61\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u5B9E\u73B0\u94FE\u5F0F\u8C03\u7528\uFF0C\u5728\u4E00\u4E2A<code>Observable</code>\u5BF9\u8C61\u4E0A\u591A\u6B21\u4F7F\u7528map\u64CD\u4F5C\u7B26\uFF0C\u6700\u7EC8\u5C06\u6700\u7B80\u6D01\u7684\u6570\u636E\u4F20\u9012\u7ED9<code>Subscriber</code>\u5BF9\u8C61\u3002</p><p><code>map</code>\u64CD\u4F5C\u7B26\u66F4\u6709\u8DA3\u7684\u4E00\u70B9\u662F\u5B83\u4E0D\u5FC5\u8FD4\u56DEObservable\u5BF9\u8C61\u8FD4\u56DE\u7684\u7C7B\u578B\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528<code>map</code>\u64CD\u4F5C\u7B26\u8FD4\u56DE\u4E00\u4E2A\u53D1\u51FA\u65B0\u7684\u6570\u636E\u7C7B\u578B\u7684<code>Observable</code>\u5BF9\u8C61\u3002 \u6BD4\u5982\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0C<code>Subscriber</code>\u5E76\u4E0D\u5173\u5FC3\u8FD4\u56DE\u7684\u5B57\u7B26\u4E32\uFF0C\u800C\u662F\u60F3\u8981\u5B57\u7B26\u4E32\u7684<code>hash</code>\u503C\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> just <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token string">&quot;Hello &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;World !&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> just<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Func1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> integer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token string">&quot;@@@&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> integer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u90E8\u5206\u7684\u6253\u5370\u7ED3\u679C\u662F:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>12-12 15:54:35.515 8521-8521/com.charon.rxjavastudydemo I/@@@: -2137068114
12-12 15:54:35.516 8521-8521/com.charon.rxjavastudydemo I/@@@: -1105126669
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>map()</code>\u7684\u793A\u610F\u56FE\uFF1A</p><p><img src="https://raw.githubusercontent.com/CharonChui/Pictures/master/rxjava_map.jpg?raw=true" alt="image"></p><p>\u901A\u8FC7\u4E0A\u9762\u7684\u90E8\u5206\u6211\u4EEC\u53EF\u4EE5\u5F97\u77E5:</p><ul><li><p><code>Observable</code>\u548C<code>Subscriber</code>\u53EF\u4EE5\u505A\u4EFB\u4F55\u4E8B\u60C5 <code>Observable</code>\u53EF\u4EE5\u662F\u4E00\u4E2A\u6570\u636E\u5E93\u67E5\u8BE2\uFF0C<code>Subscriber</code>\u7528\u6765\u663E\u793A\u67E5\u8BE2\u7ED3\u679C\uFF1B<code>Observable</code>\u53EF\u4EE5\u662F\u5C4F\u5E55\u4E0A\u7684\u70B9\u51FB\u4E8B\u4EF6\uFF0C<code>Subscriber</code>\u7528\u6765\u54CD\u5E94\u70B9\u51FB\u4E8B\u4EF6\uFF1B<code>Observable</code>\u53EF\u4EE5\u662F\u4E00\u4E2A\u7F51\u7EDC\u8BF7\u6C42\uFF0C<code>Subscriber</code>\u7528\u6765\u663E\u793A\u8BF7\u6C42\u7ED3\u679C\u3002</p></li><li><p><code>Observable</code>\u548C<code>Subscriber</code>\u662F\u72EC\u7ACB\u4E8E\u4E2D\u95F4\u7684\u53D8\u6362\u8FC7\u7A0B\u7684\u3002 \u5728<code>Observable</code>\u548C<code>Subscriber</code>\u4E2D\u95F4 \u53EF\u4EE5\u589E\u51CF\u4EFB\u4F55\u6570\u91CF\u7684<code>map</code>\u3002\u6574\u4E2A\u7CFB\u7EDF\u662F\u9AD8\u5EA6\u53EF\u7EC4\u5408\u7684\uFF0C\u64CD\u4F5C\u6570\u636E\u662F\u4E00\u4E2A\u5F88\u7B80\u5355\u7684\u8FC7\u7A0B\u3002</p></li></ul><h4 id="flatmap" tabindex="-1"><a class="header-anchor" href="#flatmap" aria-hidden="true">#</a> <code>flatmap</code></h4><p><code>Returns an Observable that emits items based on applying a function that you supply to each item emitted by the source Observable, where that function returns an Observable, and then merging those resulting Observables and emitting the results of this merger.</code></p><p><code>flatMap()</code>\u662F\u4E00\u4E2A\u5F88\u6709\u7528\u4F46\u975E\u5E38\u96BE\u7406\u89E3\u7684\u53D8\u6362\uFF0C\u9996\u5148\u5047\u8BBE\u8FD9\u4E48\u4E00\u79CD\u9700\u6C42\uFF1A\u5047\u8BBE\u6709\u4E00\u4E2A\u6570\u636E\u7ED3\u6784\u300E\u5B66\u751F\u300F\uFF0C\u73B0\u5728\u9700\u8981\u6253\u5370\u51FA\u4E00\u7EC4\u5B66\u751F\u7684\u540D\u5B57\u3002\u5B9E\u73B0\u65B9\u5F0F\u5F88\u7B80\u5355\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Student</span><span class="token punctuation">[</span><span class="token punctuation">]</span> students <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token class-name">Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> subscriber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNext</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>students<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Func1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> student<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F88\u7B80\u5355\u3002\u90A3\u4E48\u518D\u5047\u8BBE\uFF1A\u5982\u679C\u8981\u6253\u5370\u51FA\u6BCF\u4E2A\u5B66\u751F\u6240\u9700\u8981\u4FEE\u7684\u6240\u6709\u8BFE\u7A0B\u7684\u540D\u79F0\u5462?(\u9700\u6C42\u7684\u533A\u522B\u5728\u4E8E\uFF0C\u6BCF\u4E2A\u5B66\u751F\u53EA\u6709\u4E00\u4E2A\u540D\u5B57\uFF0C\u4F46\u5374\u6709\u591A\u4E2A\u8BFE\u7A0B)\u9996\u5148\u53EF\u4EE5\u8FD9\u6837\u5B9E\u73B0\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Student</span><span class="token punctuation">[</span><span class="token punctuation">]</span> students <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token class-name">Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> subscriber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNext</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Course</span><span class="token punctuation">&gt;</span></span> courses <span class="token operator">=</span> student<span class="token punctuation">.</span><span class="token function">getCourses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> courses<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Course</span> course <span class="token operator">=</span> courses<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> course<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>students<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F9D\u7136\u5F88\u7B80\u5355\u3002\u90A3\u4E48\u5982\u679C\u6211\u4E0D\u60F3\u5728<code>Subscriber</code>\u4E2D\u4F7F\u7528<code>for</code>\u5FAA\u73AF\uFF0C\u800C\u662F\u5E0C\u671B<code>Subscriber</code>\u4E2D\u76F4\u63A5\u4F20\u5165\u5355\u4E2A\u7684<code>Course</code>\u5BF9\u8C61\u5462(\u8FD9\u5BF9\u4E8E\u4EE3\u7801\u590D\u7528\u5F88\u91CD\u8981),\u7528<code>map()</code>\u663E\u7136\u662F\u4E0D\u884C\u7684\uFF0C\u56E0\u4E3A<code>map()</code> \u662F\u4E00\u5BF9\u4E00\u7684\u8F6C\u5316\uFF0C\u800C\u6211\u73B0\u5728\u7684\u8981\u6C42\u662F\u4E00\u5BF9\u591A\u7684\u8F6C\u5316\u3002\u90A3\u600E\u4E48\u624D\u80FD\u628A\u4E00\u4E2A<code>Student</code>\u8F6C\u5316\u6210\u591A\u4E2A<code>Course</code>\u5462\uFF1F</p><p>\u8FD9\u4E2A\u65F6\u5019\uFF0C\u5C31\u9700\u8981\u7528<code>flatMap()</code>\u4E86\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Student</span><span class="token punctuation">[</span><span class="token punctuation">]</span> students <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token class-name">Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Course</span><span class="token punctuation">&gt;</span></span> subscriber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subscriber</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Course</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onNext</span><span class="token punctuation">(</span><span class="token class-name">Course</span> course<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> course<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>students<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Func1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">,</span> <span class="token class-name">Observable</span><span class="token punctuation">&lt;</span><span class="token class-name">Course</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Course</span><span class="token punctuation">&gt;</span></span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span><span class="token function">getCourses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>map</code>\u4E0E<code>flatmap</code>\u5728\u529F\u80FD\u4E0A\u662F\u4E00\u81F4\u7684,\u5B83\u4E5F\u662F\u628A\u4F20\u5165\u7684\u53C2\u6570\u8F6C\u5316\u4E4B\u540E\u8FD4\u56DE\u53E6\u4E00\u4E2A\u5BF9\u8C61\u3002\u533A\u522B\u5728\u4E8E<code>flatmap</code>\u662F\u901A\u8FC7\u4E2D\u95F4<code>Observable</code>\u6765\u8FDB\u884C\uFF0C\u800C<code>map</code>\u662F\u76F4\u63A5\u6267\u884C.<code>flatMap()</code>\u4E2D\u8FD4\u56DE\u7684\u662F\u4E2A <code>Observable</code>\u5BF9\u8C61\uFF0C\u5E76\u4E14\u8FD9\u4E2A<code>Observable</code>\u5BF9\u8C61\u5E76\u4E0D\u662F\u88AB\u76F4\u63A5\u53D1\u9001\u5230\u4E86<code>Subscriber</code>\u7684\u56DE\u8C03\u65B9\u6CD5\u4E2D\u3002</p><p><code>flatMap()</code>\u7684\u539F\u7406\u662F\u8FD9\u6837\u7684:</p><ul><li>\u4F7F\u7528\u4F20\u5165\u7684\u4E8B\u4EF6\u5BF9\u8C61\u521B\u5EFA\u4E00\u4E2A<code>Observable</code>\u5BF9\u8C61</li><li>\u5E76\u4E0D\u53D1\u9001\u8FD9\u4E2A<code>Observable</code>\u800C\u662F\u5C06\u5B83\u6FC0\u6D3B\uFF0C\u4E8E\u662F\u5B83\u5F00\u59CB\u53D1\u9001\u4E8B\u4EF6</li><li>\u6BCF\u4E00\u4E2A\u521B\u5EFA\u51FA\u6765\u7684<code>Observable</code>\u53D1\u9001\u7684\u4E8B\u4EF6\uFF0C\u90FD\u88AB\u6C47\u5165\u540C\u4E00\u4E2A<code>Observable</code>,\u800C\u8FD9\u4E2A<code>Observable</code>\u8D1F\u8D23\u5C06\u8FD9\u4E9B\u4E8B\u4EF6\u7EDF\u4E00\u4EA4\u7ED9<code>Subscriber</code> \u7684\u56DE\u8C03\u65B9\u6CD5\u3002</li></ul><p>\u8FD9\u4E09\u4E2A\u6B65\u9AA4\uFF0C\u628A\u4E8B\u4EF6\u62C6\u6210\u4E86\u4E24\u7EA7\uFF0C\u901A\u8FC7\u4E00\u7EC4\u65B0\u521B\u5EFA\u7684<code>Observable</code>\u5C06\u521D\u59CB\u7684\u5BF9\u8C61\u300E\u94FA\u5E73\u300F\u4E4B\u540E\u901A\u8FC7\u7EDF\u4E00\u8DEF\u5F84\u5206\u53D1\u4E86\u4E0B\u53BB\u3002\u800C\u8FD9\u4E2A\u300E\u94FA\u5E73\u300F\u5C31\u662F<code>flatMap()</code>\u6240\u8C13\u7684<code>flat</code>\u3002</p><p><code>flatMap()</code>\u5C31\u662F\u6839\u636E\u4F60\u7684\u89C4\u5219\uFF0C\u5C06<code>Observable</code>\u8F6C\u6362\u4E4B\u540E\u518D\u53D1\u5C04\u51FA\u53BB\uFF0C\u6CE8\u610F\u6700\u540E\u7684\u987A\u5E8F\u5F88\u53EF\u80FD\u662F\u9519\u4E71\u7684\uFF0C\u5982\u679C\u8981\u4FDD\u8BC1\u987A\u5E8F\u7684\u4E00\u81F4\u6027\uFF0C\u8981\u4F7F\u7528<code>concatMap()</code><br> \u7531\u4E8E\u53EF\u4EE5\u5728\u5D4C\u5957\u7684<code>Observable</code>\u4E2D\u6DFB\u52A0\u5F02\u6B65\u4EE3\u7801<code>flatMap()</code>\u4E5F\u5E38\u7528\u4E8E\u5D4C\u5957\u7684\u5F02\u6B65\u64CD\u4F5C\uFF0C\u4F8B\u5982\u5D4C\u5957\u7684\u7F51\u7EDC\u8BF7\u6C42<code>(Retrofit + RxJava)</code></p><p><code>flatMap()</code>\u793A\u610F\u56FE\uFF1A</p><p><img src="https://raw.githubusercontent.com/CharonChui/Pictures/master/rxjava_flatmap.jpg?raw=true" alt="image"></p><h4 id="throttlefirst" tabindex="-1"><a class="header-anchor" href="#throttlefirst" aria-hidden="true">#</a> <code>throttleFirst()</code></h4><p>\u5728\u6BCF\u6B21\u4E8B\u4EF6\u89E6\u53D1\u540E\u7684\u4E00\u5B9A\u65F6\u95F4\u95F4\u9694\u5185\u4E22\u5F03\u65B0\u7684\u4E8B\u4EF6\u3002\u5E38\u7528\u4F5C\u53BB\u6296\u52A8\u8FC7\u6EE4\u3002 \u4F8B\u5982\u6309\u94AE\u7684\u70B9\u51FB\u76D1\u542C\u5668:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">RxView</span><span class="token punctuation">.</span><span class="token function">clickEvents</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// RxBinding \u4EE3\u7801\`</span>
    <span class="token punctuation">.</span><span class="token function">throttleFirst</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">)</span> <span class="token comment">// \u8BBE\u7F6E\u9632\u6296\u95F4\u9694\u4E3A 500ms </span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>subscriber<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u5988\u5988\u518D\u4E5F\u4E0D\u6015\u6211\u7684\u7528\u6237\u624B\u6296\u70B9\u5F00\u4E24\u4E2A\u91CD\u590D\u7684\u754C\u9762\u5566\u3002</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="from" tabindex="-1"><a class="header-anchor" href="#from" aria-hidden="true">#</a> <code>from</code></h4><p><code>convert various other objects and data types into Observables</code></p><p><code>from()</code>\u63A5\u6536\u4E00\u4E2A\u96C6\u5408\u4F5C\u4E3A\u8F93\u5165\uFF0C\u7136\u540E\u6BCF\u6B21\u8F93\u51FA\u4E00\u4E2A\u5143\u7D20\u7ED9<code>subscriber</code>.</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> s <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;Java&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Android&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Ruby&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Ios&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Swift&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token string">&quot;@@@&quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="filter" tabindex="-1"><a class="header-anchor" href="#filter" aria-hidden="true">#</a> <code>filter</code></h4><p>\u8FD4\u56DE\u6EE1\u8DB3\u8FC7\u6EE4\u6761\u4EF6\u7684\u6570\u636E\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Func1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> integer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">return</span> integer <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> integer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token string">&quot;@@@&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;integer=&quot;</span> <span class="token operator">+</span> integer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1,2,3,4</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="timer" tabindex="-1"><a class="header-anchor" href="#timer" aria-hidden="true">#</a> <code>timer</code></h4><p><code>Timer</code>\u4F1A\u5728\u6307\u5B9A\u65F6\u95F4\u540E\u53D1\u5C04\u4E00\u4E2A\u6570\u5B570\uFF0C\u8BE5\u64CD\u4F5C\u7B26\u8FD0\u884C\u5728<code>Computation Scheduler</code>\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">timer</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">observeOn</span><span class="token punctuation">(</span><span class="token class-name">AndroidSchedulers</span><span class="token punctuation">.</span><span class="token function">mainThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">Long</span> aLong<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token string">&quot;@@@&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;aLong=&quot;</span> <span class="token operator">+</span> aLong<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u5EF6\u65F63s</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="interval" tabindex="-1"><a class="header-anchor" href="#interval" aria-hidden="true">#</a> <code>interval</code></h4><p>\u521B\u5EFA\u4E00\u4E2A\u6309\u56FA\u5B9A\u65F6\u95F4\u95F4\u9694\u53D1\u5C04\u6574\u6570\u5E8F\u5217\u7684<code>Observable</code>. <code>interval</code>\u9ED8\u8BA4\u5728<code>computation</code>\u8C03\u5EA6\u5668\u4E0A\u6267\u884C\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">interval</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">,</span> <span class="token class-name">AndroidSchedulers</span><span class="token punctuation">.</span><span class="token function">mainThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Action1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">Long</span> aLong<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token string">&quot;@@@&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;aLong=&quot;</span> <span class="token operator">+</span> aLong<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u4ECE0\u9012\u589E\uFF0C\u95F4\u96941s 0,1,2,3....</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="repeat" tabindex="-1"><a class="header-anchor" href="#repeat" aria-hidden="true">#</a> <code>Repeat</code></h4><p>\u91CD\u590D\u6267\u884C</p><p>\u7B49\u7B49...\u5C31\u4E0D\u7EE7\u7EED\u4ECB\u7ECD\u4E86\uFF0C\u5230\u65F6\u5019\u67E5\u4E0B\u6587\u6863\u5C31\u597D\u4E86\u3002</p><p>\u662F\u4E0D\u662F\u611F\u89C9\u6CA1\u4EC0\u4E48\u4E71\u7528\uFF0C\u90A3\u5C31\u7EE7\u7EED\u770B\u4E0B\u4E00\u90E8\u5206\u5427\u3002</p>`,99),h=s("\u66F4\u591A\u5185\u5BB9\u8BF7\u770B\u4E0B\u4E00\u7BC7\u6587\u7AE0"),f={href:"https://github.com/CharonChui/AndroidNote/blob/master/RxJavaPart/RxJava%E8%AF%A6%E8%A7%A3(%E4%B8%AD).md",title:"RxJava\u8BE6\u89E3(\u4E2D)",target:"_blank",rel:"noopener noreferrer"},x=s("RxJava\u8BE6\u89E3(\u4E2D)"),w=n("p",null,"\u53C2\u8003:",-1),O={href:"https://github.com/ReactiveX/RxJava/wiki",target:"_blank",rel:"noopener noreferrer"},S=s("RxJava Wiki"),y={href:"http://blog.danlew.net/2014/09/15/grokking-rxjava-part-1/",target:"_blank",rel:"noopener noreferrer"},j=s("Grokking RxJava, Part 1: The Basics"),q={href:"https://yarikx.github.io/NotRxJava/",target:"_blank",rel:"noopener noreferrer"},_=s("NotRxJava"),R={href:"http://tomstechnicalblog.blogspot.hk/2016/07/when-not-to-use-rxjava.html",target:"_blank",rel:"noopener noreferrer"},C=s("When Not to Use RxJava"),A={href:"http://gank.io/post/560e15be2dca930e00da1083",target:"_blank",rel:"noopener noreferrer"},J=s("\u7ED9 Android \u5F00\u53D1\u8005\u7684 RxJava \u8BE6\u89E3"),L={href:"http://blog.chengyunfeng.com/?p=984",target:"_blank",rel:"noopener noreferrer"},N=s("Google Agera \u4ECE\u5165\u95E8\u5230\u653E\u5F03"),E=n("hr",null,null,-1),I=n("ul",null,[n("li",null,"\u90AE\u7BB1 \uFF1Acharon.chui@gmail.com"),n("li",null,"Good Luck!")],-1);function T(B,P){const a=o("ExternalLinkIcon");return p(),l("div",null,[u,n("ul",null,[n("li",null,[n("a",d,[r,e(a)])]),n("li",null,[n("a",k,[v,e(a)])]),n("li",null,[n("a",b,[m,e(a)])])]),g,n("p",null,[h,n("a",f,[x,e(a)])]),w,n("ul",null,[n("li",null,[n("a",O,[S,e(a)])]),n("li",null,[n("a",y,[j,e(a)])]),n("li",null,[n("a",q,[_,e(a)])]),n("li",null,[n("a",R,[C,e(a)])]),n("li",null,[n("a",A,[J,e(a)])]),n("li",null,[n("a",L,[N,e(a)])])]),E,I])}var H=c(i,[["render",T],["__file","RxJava\u8BE6\u89E3(\u4E0A).html.vue"]]);export{H as default};
